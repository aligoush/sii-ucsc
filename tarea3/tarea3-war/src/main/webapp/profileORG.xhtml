<ui:composition template="/WEB-INF/templates/plantilla.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:p="http://primefaces.org/ui"
               xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="title">Editar perfil</ui:define>
    <ui:define name="content">
    

<c:choose>
<c:when test="#{controlAutorizacion.usuario.tipoUsuario=='ORGANIZACION'}">

<h:form>

    <div class="container-fluid">
                <h3 class="text-dark mb-4">Perfil</h3>
                <div class="row mb-3">
                    <div class="col-lg-4">
                    
                    
                    <!-- FOTO -->

                        <div class="card mb-3" style="height: 327px">
                            <div class="card-body text-center shadow" style="margin-top: 10px; margin-bottom: 10px;">
                                <h:graphicImage value="/rs/imagenes/usuario/#{controlAutorizacion.usuario.id}" style="width:190px; margin-top:10px; margin-bottom:10px; margim-bottom:4px;"/>
                              
                            		   <div class="mb-3">
                                	    <p:fileUpload id="imagen" value="#{controlAutorizacion.imagenSubida}" allowTypes="/(\.|\/)(jpe?g)$/" mode="simple"  label="Elegir" style="width:280px; margin-right:5px;margin-bottom:5px;margin-top:3px;margin-left:44px;" />
                            			     <h:commandButton value="Cambiar imagen" action="#{controlAutorizacion.doEditarPerfil()}" styleClass="btn btn-primary" />                       
                            		  </div>
                            	
                            </div>
                        </div>
                        
                      <!-- DISPONIBILIDAD -->
                        
                        
                      <div class="card shadow mb-4">
                            <div class="card-header py-3">
                                <h6 class="text-primary font-weight-bold m-0">Disponibilidad</h6>
                            </div>


                           <div class="card-body" style="padding-top: 10px;"><label for="time"><strong>Horario</strong></label><br></br>
                         
                              <h:selectOneRadio id="disponibilidad" value="#{controlAutorizacion.usuario.disponibilidad}">
								<f:selectItem itemLabel="Mañana" itemValue="M" />
								<f:selectItem itemLabel="Tarde" itemValue="T" />
								<f:selectItem itemLabel="Mañana y tarde" itemValue="MT"/>
							</h:selectOneRadio>	
                      			 
                 		
                 		 </div>
                    </div>
                        
                   <!-- ORGANIZACION -->
                        
                       <div class="card shadow mb-4" style="bottom: 7px;">
                            <div class="card-header py-3">
                                <h6 class="text-primary font-weight-bold m-0">Organización</h6>
                       	    </div>
                        <div class="card-body">
                       		 
                           		 <div class="form-group"><label for="city"><strong>Nombre de la empresa:</strong></label>
                           			 <h:inputText style="margin-left:5px;" value="#{controlAutorizacion.usuario.nombreOrganizacion}" /> <!-- CAMBIAR JAVA -->
                                 </div>
                   
                           
                        </div>
                    </div>
  
                                        
                </div>
                
                <div class="col-lg-8">
                
                  
                 
                
                    <div class="row">
                        <div class="col">
                            <div class="card shadow mb-3" style=" margin-bottom:18px; "> 
                            
                                    <!-- CONFI USUARIO -->                 
                            
                                <div class="card-header py-3">
                                    <p class="text-primary m-0 font-weight-bold">Configuración del usuario</p>
                                </div>
                                
                                
                                <div class="card-body">
                                 
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group"><label for="username"><strong>NIF</strong></label>
                                             		 <h:inputText  class="form-control" placeholder="nif"  id="dni" value="#{controlAutorizacion.usuario.dni}" required="true" a:placeholder="nif"/>
                                             	 </div>
                                            </div>
                                            <div class="col">
                                                <div class="form-group"><label for="email"><strong>Correo electrónico</strong></label>
                                             		 <h:inputText  class="form-control" id="email" value="#{controlAutorizacion.usuario.email}" required="true" a:placeholder="user@example.com" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group"><label for="first_name"><strong>Nombre</strong></label>
                                                	<h:inputText class="form-control" id="nombre" value="#{controlAutorizacion.usuario.nombre}" required="true" a:placeholder="name" />
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="form-group"><label for="first_name"><strong>Primer apellido</strong></label>
                                               		 <h:inputText class="form-control" id="apellido1" value="#{controlAutorizacion.usuario.apellido1}" required="true" a:placeholder="first name" />
                                               </div>
                                            </div>
                                            <div class="col">
                                                <div class="form-group"><label for="last_name"><strong>Segundo apellido</strong></label>
                                                    <h:inputText  class="form-control" id="apellido2"  value="#{controlAutorizacion.usuario.apellido2}" required="true"  a:placeholder="second name" />
                                               </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group"><label for="first_name"><strong>Contraseña</strong></label>
                                                	<h:inputSecret class="form-control" id="contrasena1" value="#{controlAutorizacion.nuevaContrasena}" required="false" a:placeholder="new password" />
                                                </div>
                                            </div>
                                             <div class="col">
                                                <div class="form-group"><label for="first_name"><strong>Validar contraseña</strong></label>
                                               		 <h:inputSecret  class="form-control" id="contrasena2" value="#{controlAutorizacion.repeticionContrasena}" required="false" a:placeholder="repeat password"/>
                                           		  </div>
                                        	</div>
                                        </div>
                                      
                                 
                                </div>
                            </div>
                            
                            <!-- DATOS CONTACTO -->
                            	<div class= "card shadow" style="height:282px;">
                                <div class="card-header py-3">
                                    <p class="text-primary m-0 font-weight-bold">Datos de contacto</p>
                                </div>
                                <div class="card-body">
                                    
                                        <div class="form-group"><label for="address"><strong>Dirección</strong></label>
                                             <h:inputText class="form-control" id="direccion" value="#{controlAutorizacion.usuario.direccion}" required="true"  a:placeholder="38,Sunset Blvd"/>
                                       </div>
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group"><label for="city"><strong>Teléfono</strong></label>
                                                
                                                   <h:inputText class="form-control"  id="telefono" value="#{controlAutorizacion.usuario.telefono}" required="true" a:placeholder="phone number"/>
                                                  
                                                </div>
                                            </div>
                                        </div>
                                         
                                      <!--  <div class="form-group"><button class="btn btn-primary btn-sm" type="submit" style ="margin-top:12px;">Guardar cambios</button></div> -->  
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    
               </div>
            </div>
            
            <!-- NOTIFICACIONES -->
          
            <div class="card shadow mb-4" style="height: 202px;">
                <div class="card-header py-3">
                    <p class="text-primary m-0 font-weight-bold">Noticaciones</p>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            
                                <div class="form-group"><label for="signature"><strong>Aviso a correo electrónico</strong></label></div>
                                <div class="form-group">
                                
                                    <div class="custom-control custom-switch">
											<p:toggleSwitch value="#{controlAutorizacion.usuario.notificacionesCorreo}" />
                                  		 <label ><strong>Enviar correo electrónico por cada nueva notificación</strong></label>
                                    </div>
                                </div>
                             
                           
                        </div>
                    </div>
                </div>
            </div>
            
           <div class="text-center ">
                 <h:commandButton value="Guardar Cambios" action="#{controlAutorizacion.doEditarPerfil()}" styleClass="btn btn-primary" style="height:35px;" />  
		   </div>
            
        </div>
        

</h:form>

</c:when>
<c:otherwise>
		<h3 class="text-dark mb-4">ERROR DE AUTORIZACIÓN</h3>
		<p>No tiene permiso para acceder a esta página</p>
</c:otherwise>
</c:choose>

     
   
    </ui:define>
</ui:composition>