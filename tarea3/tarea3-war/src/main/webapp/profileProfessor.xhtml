<ui:composition template="/WEB-INF/templates/plantilla.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="title">Editar perfil</ui:define>
    <ui:define name="content">
    


<c:choose>
<c:when test="#{controlAutorizacion.usuario.tipoUsuario=='PROFESOR'}">

<h:form>

  
    
   <div class="container-fluid">
     <h3 class="text-dark mb-4">Perfil</h3>
     <div class="row mb-3">
       <div class="col-lg-4">
         <div class="caja-derecha-organizacion">
                    
          <!-- FOTO -->
                    
             <div class="card mb-3" style="height: 347px;">
                 <div class="card-body text-center shadow" style="height:295px; margin-bottom: 10px; margin-top: 10px;">
                   <h:graphicImage value="/rs/imagenes/usuario/#{controlAutorizacion.usuario.id}" style="width:195px; margin-top:10px; margin-bottom:10px"/>
                     
                           <div class="mb-3">

 							  <div class="form-group">
                                	<p:fileUpload id="imagen" value="#{controlAutorizacion.imagenSubida}" allowTypes="/(\.|\/)(jpe?g)$/" mode="simple"  label="Elegir" style="width:280px; margin-right:5px;margin-bottom:5px;margin-top:3px;margin-left:44px;" />
                       	         <h:commandButton value="Cambiar foto" action="#{controlAutorizacion.doEditarPerfil()}" styleClass="btn btn-primary" /> 
                              </div>


                           </div>
                        
                    </div>
              </div>
                        
               <!-- DISPONIBILIDAD -->
                        
                        

              <div class="card shadow mb-4" style="top:4px; height: 182px; top:8px">
                 <div class="card-header py-3">
                    <h6 class="text-primary font-weight-bold m-0">Disponibilidad</h6>
                 </div>

                 <div class="card-body" style="padding-top: 15px;"><label for="time"><strong>Horario</strong></label><br></br>


                    
                      <div class="form-group" style="margin-top:10px;">
                         <h:selectOneRadio id="disponibilidad" value="#{controlAutorizacion.usuario.disponibilidad}">
							<f:selectItem  style="margin-top:5px;" itemLabel="Mañana" itemValue="M" />
							<f:selectItem  style="margin-top:5px;" itemLabel="Tarde" itemValue="T" />
							<f:selectItem  style="margin-top:5px;" itemLabel="Mañana y tarde" itemValue="MT"/>
						</h:selectOneRadio>	
					 </div>
                
                  </div>
             </div>
                        
           <!-- TITULACION -->
                        

            <div class="card shadow mb-4" style="margin-bottom: 20px; height:187px;top:7px; ">

               <div class="card-header py-3">
                   <h6 class="text-primary font-weight-bold m-0">Titulación(es)</h6>
               </div>
               <div class="card-body">
               
                    <div class="form-group" style="margin-top: 6px;"><label for="city"><strong>Cambiar titulación</strong></label></div>
                     <h:button value="Cambiar" outcome="verTitulaciones.xhtml" styleClass="btn btn-primary" style=" height:36px;"/>      
                                     	

                </div>
            </div>
       </div>               
                                        
    </div> <!-- col 4 -->
                
    <div class="col-lg-8">       
       <div class="row">
            <div class="col">
                 <div class="card shadow mb-3" style="margin-bottom: 20px; height:469px;">   
                            
                    <!-- CONFI USUARIO -->                 
                      
                      <div class="card-header py-3">
                          <p class="text-primary m-0 font-weight-bold">Configuración del usuario</p>
                      </div>
                      <div class="card-body">
                         
                                 <div class="form-row">
                                     <div class="col">
                                         <div class="form-group"><label for="username"><strong>NIF</strong></label>
                                      		 <h:inputText  class="form-control" id="dni" value="#{controlAutorizacion.usuario.dni}" required="true"  a:placeholder="nif" />
                                          </div>
                                      </div>
                                       <div class="col">
                                           <div class="form-group"><label for="email"><strong>Correo electrónico</strong></label>
                                               <h:inputText  class="form-control" id="email" value="#{controlAutorizacion.usuario.email}" required="true" a:placeholder="user@example.com" />
                                           </div>
                                       </div>
                                 </div>
                                 <div class="form-row">
                                      <div class="col">

                                        <div class="form-group"><label for="name"><strong>Nombre</strong></label>

                                            <h:inputText class="form-control" id="nombre" value="#{controlAutorizacion.usuario.nombre}" required="true" a:placeholder="name"/>
                                        </div>
                                     </div>
                                     <div class="col">
                                         <div class="form-group"><label for="first_name"><strong>Primer apellido</strong></label>
                                            <h:inputText class="form-control" id="apellido1"  value="#{controlAutorizacion.usuario.apellido1}" required="true" a:placeholder="first name" />
                                         </div>
                                     </div>
                                     <div class="col">
                                         <div class="form-group"><label for="last_name"><strong>Segundo apellido</strong></label>
                                            <h:inputText  class="form-control" id="apellido2"  value="#{controlAutorizacion.usuario.apellido2}" required="true"   a:placeholder="second name" />
                                         </div>
                                     </div>
                                  </div>
                                  <div class="form-row">
                                     <div class="col">
                                         <div class="form-group"><label for="Estudios"><strong>Logros académicos</strong></label>
                                            <h:inputTextarea  class="form-control" id="descripcion"  value="#{controlAutorizacion.usuario.descripcion}" />
                                        </div>
									 </div>
                                   </div>
                                   <div class="form-row">
                                       <div class="col">


                                          <div class="form-group"><label for="password"><strong>Contraseña</strong></label>


                                             <h:inputSecret class="form-control" id="contrasena1" value="#{controlAutorizacion.nuevaContrasena}" required="false"  a:placeholder="new password" />
                                          </div>
                                       </div>
                                       <div class="col">


                                           <div class="form-group"><label for="password"><strong>Validar contraseña</strong></label>

                                              <h:inputSecret  class="form-control" id="contrasena2" value="#{controlAutorizacion.repeticionContrasena}" required="false" a:placeholder="repeat password"/>
                                          </div>
                                      </div>
                                   </div>
                                    <div class="form-group">
								    </div>
                             
                            </div>
                        </div>
                            
                            <!-- DATOS CONTACTO -->
                            <div class= "card shadow" style="height:275px; top:7px;">
                                <div class="card-header py-3">
                                    <p class="text-primary m-0 font-weight-bold">Datos de contacto</p>
                                </div>
                                <div class="card-body">
                                   
                                        <div class="form-group"><label for="address"><strong>Dirección</strong></label>
                                             <h:inputText class="form-control" type="text" value="#{controlAutorizacion.usuario.direccion}" required="true" a:placeholder="38,Sunset Blvd"/>
                                       </div>
                                        <div class="form-row">
                                            <div class="col">
                                                <div class="form-group"><label for="city"><strong>Teléfono</strong></label>
                                                   <h:inputText class="form-control"  id="telefono" value="#{controlAutorizacion.usuario.telefono}" required="true" a:placeholder="phone number"/>
                                                </div>
                                            </div>
                                        </div>
 										
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    
             </div>
           </div>
            
            
            <!-- NOTIFICACIONES -->

             <div class="card shadow mb-4" style="top:12px;" >

                <div class="card-header py-3">
                    <p class="text-primary m-0 font-weight-bold">Noticaciones</p>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                           
                                <div class="form-group"><label for="signature"><strong>Aviso a correo electrónico</strong></label></div>
                                <div class="form-group">
                                
                                    <div class="custom-control custom-switch">
											<p:toggleSwitch value="#{controlAutorizacion.usuario.notificacionesCorreo}" />
                                  		 <label ><strong>Enviar correo electrónico por cada nueva notificación</strong></label>
                                    </div>
                                </div>
                                
                            
                        </div>
                    </div>
                </div>
            </div>
            
              <div class="text-center ">
                 <h:commandButton value="Guardar Cambios" action="#{controlAutorizacion.doEditarPerfil()}" styleClass="btn btn-primary" style="height:35px;" />  
		   </div>
        
       </div> <!-- CONTAINERFLUID -->
       
</h:form>       
       
</c:when>
<c:otherwise>
		<h3 class="text-dark mb-4">ERROR DE AUTORIZACIÓN</h3>
		<p>No tiene permiso para acceder a esta página</p>
</c:otherwise>
</c:choose>       
       
   
    </ui:define>
</ui:composition>